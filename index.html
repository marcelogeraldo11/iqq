<!DOCTYPE html>
<html lang="es" data-theme="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iquique desde el aire</title>
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.4.24/dist/full.min.css" rel="stylesheet" type="text/css" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                        'pulse-glow': 'pulse-glow 2s ease-in-out infinite alternate',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0px)' },
                            '50%': { transform: 'translateY(-10px)' }
                        },
                        'pulse-glow': {
                            '0%': { boxShadow: '0 0 20px rgba(59, 130, 246, 0.5)' },
                            '100%': { boxShadow: '0 0 40px rgba(59, 130, 246, 0.8)' }
                        }
                    }
                }
            }
        }
    </script>
    <style>
        /* Indicador de carga del video */
        .video-loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 1.2rem;
            z-index: 5;
        }

        .loading-spinner {
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-top: 3px solid white;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 10px;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }
    </style>
</head>

<body class="min-h-screen overflow-hidden relative">
    <!-- Video de fondo -->
    <div class="absolute inset-0 z-0">
        <!-- Indicador de carga -->
        <div id="video-loader" class="video-loading">
            <div class="loading-spinner"></div>
            <div class="text-center">Cargando video...</div>
        </div>

        <video autoplay muted loop playsinline preload="metadata"
            poster="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3Crect width='1920' height='1080' fill='%23000'/%3E%3C/svg%3E"
            class="w-full h-full object-cover" id="bg-video" loading="lazy">
            <source src="video.mp4" type="video/mp4">
            Tu navegador no soporta la reproducción de video.
        </video>
        <!-- Overlay sutil -->
        <div class="absolute inset-0 bg-black bg-opacity-50"></div>
    </div>

    <!-- Header con logo -->
    <header class="relative z-10 w-full">
        <!-- Logo izquierdo -->
        <div class="absolute top-6 left-6">
            <img id="logoLeft" src="arriba a la izquierda.png" alt="Logo izquierdo"
                class="h-10 w-auto opacity-90 hover:opacity-100 transition-opacity duration-300">
        </div>
        <!-- Logo derecho -->
        <div class="absolute top-6 right-6">
            <img id="logoFilms" src="arriba a la derecha.png" alt="Logo derecho"
                class="h-10 md:h-20 w-auto opacity-90 hover:opacity-100 transition-opacity duration-300">
        </div>
    </header>

    <!-- Contenido Principal -->
    <div class="relative z-10 min-h-screen flex flex-col items-center justify-center p-4">

        <!-- Dock de Contacto -->
        <!-- Textos móvil arriba del dock -->
        <div class="block lg:hidden fixed bottom-32 left-1/2 transform -translate-x-1/2 z-20 text-white text-xs text-center max-w-xs">
            <div class="mb-2 font-bold tracking-wider">
                EQUIPOS: INSPIRE2 - MAVIC2CINE - MAVIC2CINE - MATRICE43 - AVATA 2
            </div>
            <div class="font-bold tracking-wider">
                EMPRESA AOC 1412 CON 14 AÑOS DE EXPERIENCIA
            </div>
        </div>

        <!-- Texto izquierda desktop -->
        <div class="hidden lg:block fixed bottom-12 left-16 z-20 text-white text-sm font-bold tracking-wider">
            EQUIPOS: INSPIRE2 - MAVIC2CINE - MAVIC2CINE - MATRICE43 - AVATA 2
        </div>

        <!-- Rectángulo con redes sociales -->
        <div id="contact-dock"
            class="fixed bottom-4 md:bottom-12 left-1/2 transform -translate-x-1/2 z-20 bg-white/10 backdrop-blur-xl rounded-3xl p-3 md:p-6 border border-white/20 shadow-2xl opacity-0 flex gap-3 md:gap-6 items-center justify-center">
            <!-- Facebook -->
            <a href="https://www.facebook.com/iquiquedesdeelaire" target="_blank"
                class="tooltip tooltip-top btn btn-circle btn-md md:btn-lg bg-gradient-to-br from-blue-500 to-blue-700 border-0 hover:scale-110 transition-all duration-300 hover:shadow-xl hover:shadow-blue-500/50 group flex items-center justify-center"
                data-tip="Facebook">
                <i class="fab fa-facebook-f text-white text-lg md:text-xl group-hover:scale-110 transition-transform"></i>
            </a>

            <!-- Instagram -->
            <a href="https://www.instagram.com/iquiquedesdeelaire/" target="_blank"
                class="tooltip tooltip-top btn btn-circle btn-md md:btn-lg bg-gradient-to-br from-pink-500 via-red-500 to-yellow-500 border-0 hover:scale-110 transition-all duration-300 hover:shadow-xl hover:shadow-pink-500/50 group flex items-center justify-center"
                data-tip="Instagram">
                <i class="fab fa-instagram text-white text-lg md:text-xl group-hover:scale-110 transition-transform"></i>
            </a>

            <!-- Email -->
            <a href="mailto:contacto@iquiquedesdeelaire.cl"
                class="tooltip tooltip-top btn btn-circle btn-md md:btn-lg bg-gradient-to-br from-purple-500 to-indigo-600 border-0 hover:scale-110 transition-all duration-300 hover:shadow-xl hover:shadow-purple-500/50 group flex items-center justify-center"
                data-tip="Email">
                <i class="fas fa-envelope text-white text-lg md:text-xl group-hover:scale-110 transition-transform"></i>
            </a>

            <!-- Teléfono -->
            <a href="tel:+56993469261"
                class="tooltip tooltip-top btn btn-circle btn-md md:btn-lg bg-gradient-to-br from-green-500 to-emerald-600 border-0 hover:scale-110 transition-all duration-300 hover:shadow-xl hover:shadow-green-500/50 group flex items-center justify-center"
                data-tip="Teléfono">
                <i class="fas fa-phone text-white text-lg md:text-xl group-hover:scale-110 transition-transform"></i>
            </a>
        </div>

        <!-- Texto derecha -->
        <div class="hidden lg:block fixed bottom-12 right-32 z-20 text-white text-sm font-bold tracking-wider">
            EMPRESA AOC 1412 CON 14 AÑOS DE EXPERIENCIA
        </div>
    </div>

    <script>
        // Configuración del video optimizada
        document.addEventListener('DOMContentLoaded', function () {
            const video = document.getElementById('bg-video');
            const loader = document.getElementById('video-loader');

            if (video && loader) {
                // Configurar atributos del video
                video.muted = true;
                video.autoplay = true;
                video.loop = true;
                video.playsInline = true;

                // Mostrar loader inicialmente
                loader.style.display = 'block';

                // Configuración de carga optimizada
                const optimizeVideoLoading = () => {
                    // Detectar conexión lenta
                    if ('connection' in navigator) {
                        const connection = navigator.connection;
                        if (connection.effectiveType === 'slow-2g' || connection.effectiveType === '2g') {
                            loader.innerHTML = '<div class="text-center">Conexión lenta detectada<br>Cargando versión optimizada...</div>';
                            video.style.filter = 'blur(2px)';
                        }
                    }

                    // Timeout para ocultar loader si tarda mucho
                    setTimeout(() => {
                        if (loader.style.display !== 'none') {
                            loader.style.display = 'none';
                            console.log('Video loading timeout - hiding loader');
                        }
                    }, 10000); // 10 segundos máximo
                };

                // Eventos del video
                video.addEventListener('loadstart', () => {
                    console.log('Video loading started');
                });

                video.addEventListener('loadedmetadata', () => {
                    console.log('Video metadata loaded');
                });

                video.addEventListener('canplay', () => {
                    console.log('Video can start playing');
                    loader.style.display = 'none';
                    video.play().catch(e => {
                        console.log('Error al reproducir video:', e);
                        loader.innerHTML = '<div class="text-center">Error al cargar video<br>Reintentando...</div>';
                        setTimeout(() => loader.style.display = 'none', 3000);
                    });
                });

                video.addEventListener('playing', () => {
                    console.log('Video is playing');
                    loader.style.display = 'none';
                });

                video.addEventListener('error', (e) => {
                    console.error('Video error:', e);
                    loader.innerHTML = '<div class="text-center">Error al cargar video</div>';
                    setTimeout(() => loader.style.display = 'none', 3000);
                });

                // Reanudar reproducción cuando la página sea visible
                document.addEventListener('visibilitychange', () => {
                    if (!document.hidden && video.paused) {
                        video.play().catch(e => {
                            console.log('Error al reanudar video:', e);
                        });
                    }
                });

                // Inicializar optimizaciones
                optimizeVideoLoading();
            }

            // Animaciones GSAP para el nuevo diseño
            const dock = document.getElementById('contact-dock');
            const header = document.querySelector('header');
            const logoFilms = header.querySelector('img[alt="films PROFESSIONAL DRONE"]');

            // Timeline principal
            const tl = gsap.timeline();

            // Animación de entrada del logo izquierdo
            tl.fromTo(document.getElementById('logoLeft'), {
                opacity: 0,
                x: -100,
                rotation: -15,
                scale: 0.8
            }, {
                duration: 1.5,
                opacity: 0.9,
                x: 0,
                rotation: 0,
                scale: 1,
                ease: "back.out(1.7)"
            })
                // Animación de entrada del logo films
                .fromTo(logoFilms, {
                    opacity: 0,
                    x: 100,
                    rotation: 15,
                    scale: 0.8
                }, {
                    duration: 1.5,
                    opacity: 0.9,
                    x: 0,
                    rotation: 0,
                    scale: 1,
                    ease: "back.out(1.7)"
                }, "-=1.2")
                // Dock con efecto de materialización
                .fromTo(dock, {
                    opacity: 0,
                    scale: 0,
                    rotationY: 180
                }, {
                    duration: 1.2,
                    opacity: 1,
                    scale: 1,
                    rotationY: 0,
                    ease: "back.out(1.7)"
                }, "-=0.8");

            // Efectos hover para el logo izquierdo
            const logoLeft = document.getElementById('logoLeft');
            logoLeft.addEventListener('mouseenter', () => {
                gsap.to(logoLeft, {
                    duration: 0.3,
                    rotation: -5,
                    scale: 1.05,
                    ease: "power2.out"
                });
            });

            logoLeft.addEventListener('mouseleave', () => {
                gsap.to(logoLeft, {
                    duration: 0.3,
                    rotation: 0,
                    scale: 1,
                    ease: "power2.out"
                });
            });

            // Efectos hover para el logo films
            if (logoFilms) {
                logoFilms.addEventListener('mouseenter', () => {
                    gsap.to(logoFilms, {
                        duration: 0.3,
                        rotation: 5,
                        scale: 1.05,
                        ease: "power2.out"
                    });
                });

                logoFilms.addEventListener('mouseleave', () => {
                    gsap.to(logoFilms, {
                        duration: 0.3,
                        rotation: 0,
                        scale: 1,
                        ease: "power2.out"
                    });
                });
            }
        });
    </script>
</body>

</html>